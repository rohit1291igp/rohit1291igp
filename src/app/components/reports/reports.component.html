<app-widgets (onConfirmClicked)="confirmYesNo($event)" [wOptions]="{type : 'confirm', data:confirmData}" *ngIf="confirmFlag" [@enterAnimation]></app-widgets>

<div class="pdfSection" id="pdf-section" *ngIf="pdfDwldFlag && pdfData">
    <div class="pdfHead">
        <div class="pull-left vendorName">{{vendorName}}</div>
        <div class="pull-right">
            <div><span class="text-bold">Order Id : </span> {{pdfData.orderId}}</div>
            <div><span class="text-bold">Invoice No. :</span> {{pdfData.invoiceNumber}}</div>
            <div><span class="text-bold">Date :</span> {{pdfData.datePurchased | date : 'dd/MM/yy'}}</div>
        </div>
        <div class="clearfix"></div>
    </div>

    <div class="pdfAddr">
        <div class="pull-left leftSide">
            <div><span class="text-bold">To:</span></div>
            <div>{{pdfData.billingAddress.name}}</div>
            <div>{{pdfData.billingAddress.address}}</div>
            <div>{{pdfData.billingAddress.email}}</div>
            <div>{{pdfData.billingAddress.ph}}</div>
            <div><span class="text-bold">PAN No. :</span> {{pdfData.billingAddress.pan}}</div>
            <div><span class="text-bold">GST Registration No. :</span> {{pdfData.billingAddress.gstn}}</div>
        </div>
        <div class="pull-right rightSide">
            <div><span class="text-bold">By:</span></div>
            <div>{{pdfData.sellerAddress.name}}</div>
            <div>{{pdfData.sellerAddress.address}}</div>
            <div>{{pdfData.sellerAddress.email}}</div>
            <div>{{pdfData.sellerAddress.ph}}</div>
            <div><span class="text-bold">PAN No. :</span> {{pdfData.sellerAddress.pan}}</div>
            <div><span class="text-bold">GST Registration No. :</span> {{pdfData.sellerAddress.gstn}}</div>
        </div>
        <div class="clearfix"></div>
    </div>

    <div class="pdfTable">
        <table class="table table-bordered" style="width:100%;">
            <thead>
                <th>Product Name</th>
                <th>Unit Price</th>
                <th>Quantity</th>
                <th>Net Amount</th>
                <th>Tax Rate</th>
                <th>Tax Code</th>
                <th>Tax Type</th>
                <th>Tax Amount</th>
                <th>Total Amount</th>
                <!--<th>Total</th>-->
            </thead>
            <tbody>
                <tr *ngFor="let prod of pdfData.productDetail">
                    <td>{{prod.productName}}</td>
                    <td>{{prod.unitPrice}}</td>
                    <td>{{prod.quantity}}</td>
                    <td>Rs. <span [innerHTML]="prod.netAmount"></span></td>
                    <td><span [innerHTML]="prod.taxrate"></span></td>
                    <td><span [innerHTML]="prod.taxCode"></span></td>
                    <td><span [innerHTML]="prod.taxType"></span></td>
                    <td>Rs. <span [innerHTML]="prod.taxAmount"></span></td>
                    <td>Rs. <span [innerHTML]="prod.totalAmount"></span></td>
                    <!--<td>{{prod.total}}</td>-->
                </tr>
                <tr>
                    <td colspan="3"><span class="text-bold">Total</span></td>
                    <td ><span class="text-bold">Rs. {{pdfData.totalNetAmount}}</span></td>
                    <td colspan="3"></td>
                    <td ><span class="text-bold">Rs. {{pdfData.totalTaxAmount}}</span></td>
                    <td ><span class="text-bold">Rs. {{pdfData.total}}</span></td>
                </tr>
            </tbody>
        </table>

    </div>

    <div class="pdfFooter">
        <p>This is computer generated invoice.</p>
        <p>E. & O.E.</p>
    </div>
</div>

<div class="image-preview" *ngIf="imagePreviewFlag">
    <div class="modal fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: block; overflow:scroll; background: rgba(0, 0, 0, 0.77); z-index:9999999;" (click)="imagePreview($event)">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" (click)="imagePreview($event, 'ignore')" [ngClass]="{'mHeight' : isMobile, 'cHeight' : !isMobile}">
                <div class="modal-header" style="border-bottom:none;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="imagePreview($event)"><span aria-hidden="true">×</span></button>
                    <!--<h4 class="modal-title" id="myModalLabel">Modal Header</h4>-->
                </div>
                <div class="modal-body center-align">
                    <img class="img-responsive" src="{{imagePreviewSrc}}" alt="product_img_preview">
                    <!--<p>Some text in the modal.</p>-->
                </div>
                <!--<div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>-->
            </div>
        </div>
    </div>
    <!--<div class="modal-backdrop fade in" (click)="imagePreview($event)"></div>-->
</div>


<div class="image-preview" *ngIf="editTableCell">
    <div class="modal fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: block; overflow:scroll; background: rgba(0, 0, 0, 0.77); z-index:9999999;" (click)="closePopup($event)">
        <div class="modal-dialog modal-lg popupSize1">
            <div class="modal-content" (click)="closePopup($event, 'ignore')" [ngClass]="{'mHeight' : isMobile, 'cHeight' : !isMobile}">
                <div class="modal-header" style="border-bottom:none;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closePopup($event)"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title" id="myModalLabel">Edit {{editTableCellObj.caption}} <ng-container *ngIf="reportType === 'getPincodeReport'">Price</ng-container></h4>
                </div>
                <div class="modal-body center-align">
                    <!--<label>{{editTableCellObj.caption}}:</label>-->
                    <form (ngSubmit)="f.form.valid && submitEditCell($event, editTableCellObj.actBtnTxt, editTableCellObj.cellValue, editTableCellObj.rowData, editTableCellObj.header, editTableCellObj.dataIndex)" #f="ngForm" nonvalidate>
                        <input *ngIf="editTableCellObj.header !== 'Component_Image' && editTableCellObj.caption != 'Component_Delivery_Status' && editTableCellObj.caption != 'Proc_Type' && editTableCellObj.caption != 'Proc_Type_Vendor'" class="form-control custom-control" type="text" name="editTableCell" placeholder="{{editTableCellObj.caption}}" [(ngModel)]="editTableCellObj.value" #editTableCell="ngModel" required>
                        <div class="panel-body" *ngIf="editTableCellObj.header == 'Component_Image'">
                                    
                            <div class="manage-media">
                                <div class="row" *ngIf="isAddImage">
                                    <div class="col-md-12">
                                        <input class="blog-image-upload" type="file" name="componentImage" (change)="uploadFiles($event)" required />
                                    </div>
                                </div>
    
                                <div class="selected-images" *ngIf="uploadedImages.length">
                                    <div class="row">
                                        <div class="col-md-12" *ngFor="let image of uploadedImages">
                                            <div class="image-container">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <img style="width:100%" src="{{image.Location}}" class="image-responsive" />
                                                    </div>
                                                    <div class="col-md-8">
                                                        <p><strong>Name</strong> : {{image.key}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                        </div>
                                    </div>
                                </div>
                                <div class="media-loading-screen" *ngIf="isUploading">
                                    <h3>Uploading Images..</h3>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="f.submitted && !editTableCell" class="help-block theme-red">Please provide {{editTableCellObj.caption}} value</div>
                        <ng-container *ngIf="editTableCellObj.caption == 'Component_Delivery_Status'">
                            <select class="form-control" name="{{editTableCellObj.caption}}"  [(ngModel)]="editTableCellObj.value" #editTableCell="ngModel">
                                    <option *ngFor="let statusName of statusList" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                            </select>
                        </ng-container>
                        <ng-container *ngIf="editTableCellObj.caption == 'Proc_Type'">
                            <select *ngIf="reportType === 'getComponentReport'" name="{{editTableCellObj.caption}}" class="form-control m-top-1" [(ngModel)]="editTableCellObj.value" #editTableCell="ngModel" required>
                                <option *ngFor="let statusName of ProcTypeOption" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                            </select>
                        </ng-container>
                        <ng-container *ngIf="editTableCellObj.caption == 'Proc_Type_Vendor'">
                                <select *ngIf="reportType === 'getVendorReport'" name="{{editTableCellObj.caption}}" class="form-control m-top-1" [(ngModel)]="editTableCellObj.value" #editTableCell="ngModel" required>
                                    <option *ngFor="let statusName of ProcTypeOption" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                                </select>
                            </ng-container>
                        <button class="btn btn-primary m-top-1">Save</button>
                    </form>
                </div>
                <!--<div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>-->
            </div>
        </div>
    </div>
    <!--<div class="modal-backdrop fade in" (click)="imagePreview($event)"></div>-->
</div>

<div class="" *ngIf="reportAddAction.reportAddActionFlag">
    <div class="modal fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: block; overflow:scroll; background: rgba(0, 0, 0, 0.77);" (click)="closePopup($event)">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" (click)="closePopup($event, 'ignore')">
                <div class="modal-header" style="border-bottom:none;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closePopup($event)"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title" id="myModalLabel">
                        Add
                        <ng-container *ngIf="reportType === 'getVendorReport' || reportType === 'getComponentReport'">Component</ng-container>
                        <ng-container *ngIf="reportType === 'getPincodeReport'">Pincode</ng-container>
                        <ng-container *ngIf="reportType === 'getVendorDetails'">Vendor</ng-container>
                        <ng-container *ngIf="reportType === 'getBarcodeToComponentReport'">Barcode</ng-container>
                    </h4>
                </div>

                <div class="modal-body center-align" *ngIf="reportType === 'getVendorDetails'">
                    <div class="form-group">
                        <form (ngSubmit)="f.form.valid && addActionSubmit($event)" #f="ngForm" nonvalidate>
                            <input name="associateName" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.associateName" #associateName="ngModel" placeholder="Vendor Name" required>
                            <input name="contactPerson" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.contactPerson" #contactPerson="ngModel" placeholder="Contact Person" required>
                            <input name="email" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.email" #email="ngModel" placeholder="Email" required>
                            <textarea name="address" class="form-control custom-control m-top-1" rows="3" style="resize:none" [(ngModel)]="reportAddAction.reportAddActionModel.address" #address="ngModel" placeholder="Address" required></textarea>
                            <input name="user" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.user" #user="ngModel" placeholder="User Name" required>
                            <input name="password" type="password" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.password" #password="ngModel" placeholder="Password" required>
                            <input name="phone" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.phone" #phone="ngModel" placeholder="Phone" required>


                            <div *ngIf="f.submitted && !associateName.valid" class="help-block theme-red">Please provide associate Name!</div>
                            <div *ngIf="f.submitted && !contactPerson.valid" class="help-block theme-red">Please provide contact Person!</div>
                            <div *ngIf="f.submitted && !email.valid" class="help-block theme-red">Please provide email!</div>
                            <div *ngIf="f.submitted && !address.valid" class="help-block theme-red">Please provide address!</div>
                            <div *ngIf="f.submitted && !user.valid" class="help-block theme-red">Please provide user!</div>
                            <div *ngIf="f.submitted && !password.valid" class="help-block theme-red">Please provide password!</div>
                            <div *ngIf="f.submitted && !phone.valid" class="help-block theme-red">Please provide phone!</div>
                            <button class="btn btn-primary m-top-1">Submit</button>
                        </form>
                    </div>
                </div>

                

                <div class="modal-body center-align" *ngIf="reportType === 'getVendorReport' || reportType === 'getComponentReport' || reportType === 'getPincodeReport' || reportType === 'getBarcodeToComponentReport'">
                    <div class="form-group">
                            <div *ngIf="reportType === 'getVendorReport' || reportType === 'getPincodeReport' || reportType === 'getBarcodeToComponentReport'" class="" style="height:70vh;overflow: hidden;">
                                    <div class="" style="display: block; background: transparent;">
                                        <div class="modal-dialog modal-lg">
                                            <div class="modal-content" style="margin-left:25%;margin-top: 20%; width:50%;">
                                                <div class="modal-header" style="border-bottom:none;">
                                                    <div class="caption">Upload Excel File</div>
                                                </div>
                                                <div class="modal-body center-align">
                                                    <form (ngSubmit)="f.form.valid && uploadExcel($event)" #f="ngForm" nonvalidate>
                                                        <div class="m-top-1 left-align">
                                                            <input id="excelFile" class="form-control custom-control m-top-1" type="file" name="file" (change)="fileChange($event)" accept=".xls, .xlsx"
                                                                required>
                                                        </div>
                                                        <div class="m-top-1 left-align" *ngIf="isUploading">
                                                            <h3 style="text-align: center;">Uploading File...</h3>
                                                        </div>
                                
                                                        <button class="btn btn-primary m-top-1" *ngIf="!isUploading">Upload</button>
                                                        <div class="help-block theme-red" *ngIf="_flags.emptyFileValidation">Please choose a excel file.</div>
                                                        <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getComponentReport'">All Components are uploaded
                                                            successfully !</div>
                                                        <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getVendorReport'">All Components are uploaded
                                                                successfully !</div>    
                                                        <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getPincodeReport'">All Pincodes are uploaded
                                                            successfully !</div>
                                                        <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getBarcodeToComponentReport'">All Barcodes are uploaded
                                                            successfully !</div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div *ngIf="reportType === 'getVendorReport' || reportType === 'getPincodeReport' || reportType === 'getBarcodeToComponentReport'" class="error-section" [ngClass]="{'show-error-section': _data.uploadErrorList.length, 'hide-error-section': !_data.uploadErrorList.length}">
                                    <!-- <div class="colInline col-sm-1 col-md-1" style="top: 1em; right: 1em; position: absolute;">
                                        <a href="#" (click)="closeErrorSection($event)" style="color:#000;">
                                            <i class="glyphicon glyphicon-remove close-tray"></i>
                                        </a>
                                    </div> -->
                                
                                    <h3 style="text-decoration:underline;">{{_data.uploadFileName}}</h3>
                                    
                                    <div>
                                        <div class="caption m-top-1">Error list:-</div>
                                        <div class="errorCont" *ngFor="let err of _data.uploadErrorList">
                                            <div>
                                                <ng-container *ngIf="err.row">Row - {{err.row}} -</ng-container> {{err.msg}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        <form *ngIf="reportType !== 'getVendorReport' && reportType !== 'getPincodeReport' && reportType !== 'getBarcodeToComponentReport'" (ngSubmit)="f.form.valid && addActionSubmit($event)" #f="ngForm" nonvalidate>
                            <!--<input type="hidden" name="fkAssociateId" [(ngModel)]="reportAddAction.reportAddActionModel.fkAssociateId" #fkAssociateId="ngModel" >-->
                            <input name="componentCode" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.componentCode" #componentCode="ngModel"  placeholder="component Code" required>
                            <input name="componentName" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.componentName" #componentName="ngModel" placeholder="component Name" required>
                            <input name="componentDesc" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.componentDesc" #componentDesc="ngModel"  placeholder="component Description" required>

                            <select *ngIf="reportType === 'getComponentReport'" name="componentType" class="form-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.componentType"  #componentType="ngModel" (ngModelChange)="selectComponentType($event)"required>
                                <option [ngValue]="undefined" disabled selected>Select a Component Type</option>
                                <option *ngFor="let componentType of componentTypes" [ngValue]="componentType.name">{{componentType.name}}</option>
                            </select>
                            
                            <select *ngIf="reportType === 'getComponentReport'" name="procTypeVendor" class="form-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.procTypeVendor"  #procTypeVendor="ngModel" required>
                                <option [ngValue]="undefined" disabled selected>Select a Proc Type</option>
                                <ng-container *ngFor="let componentType of ProcTypeOption">
                                    <option [ngStyle]="{'display':(reportAddAction.reportAddActionModel.componentType && reportAddAction.reportAddActionModel.componentType == 'Cake Only' && componentType.name == 'Stocked' ) ? 'none' : 'block'}" [ngValue]="componentType.name">{{componentType.name}}</option>
                                </ng-container>
                            </select>
                            <select *ngIf="reportType === 'getVendorReport'" name="componentType" class="form-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.componentType"  #componentType="ngModel"  required>
                                <option *ngFor="let componentType of componentTypesVendor" [ngValue]="componentType.value">{{componentType.name}}</option>
                            </select>
                            <br>
                            <div class="panel panel-default" *ngIf="reportType === 'getComponentReport'">
                        
                                <div class="panel-heading">
                                    <h3 class="panel-title">Upload and Manage Images</h3>
                                </div>
                                
                                <div class="panel-body">
                                    
                                    <div class="manage-media">
                                        <div class="row" *ngIf="isAddImage">
                                            <div class="col-md-12">
                                                <input class="blog-image-upload" type="file" name="componentImage" (change)="uploadFiles($event)" required />
                                            </div>
                                        </div>
            
                                        <div class="selected-images" *ngIf="uploadedImages.length">
                                            <div class="row">
                                                <div class="col-md-12" *ngFor="let image of uploadedImages">
                                                    <div class="image-container">
                                                        <div class="row">
                                                            <div class="col-md-2">
                                                                <img style="width:100%" src="{{image.Location}}" class="image-responsive" />
                                                            </div>
                                                            <div class="col-md-10">
                                                                <p><strong>Name</strong> : {{image.key}}</p>
                                                                <p><strong>Image Link</strong> : {{image.Location}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="media-loading-screen" *ngIf="isUploading">
                                            <h3>Uploading Images..</h3>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <input name="componentTaxId" class="form-control custom-control m-top-1" [(ngModel)]="reportAddAction.reportAddActionModel.componentTaxId" #componentcomponentTaxId="ngModel" placeholder="component TaxId" required>
                            
                            <!-- <div *ngIf="f.submitted && !componentCode.valid" class="help-block theme-red">Please provide component code!</div>
                            <div *ngIf="f.submitted && !componentName.valid" class="help-block theme-red">Please provide component name!</div>
                            <div *ngIf="f.submitted && !componentImage.valid" class="help-block theme-red">Please provide component image!</div>                             -->
                            <!-- <div *ngIf="f.submitted && !componentDesc.valid" class="help-block theme-red">Please provide component description!</div>
                            <div *ngIf="f.submitted && !componentType.valid" class="help-block theme-red">Please provide component type!</div>
                            <div *ngIf="f.submitted && !componentTaxId.valid" class="help-block theme-red">Please provide component taxid!</div> -->
                            <button class="btn btn-primary m-top-1" [disabled]="f.invalid">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row padding-extra dbTableHeader" *ngIf="reportType !== 'itc/report'">
    <p style="font-weight: bold; padding: 0.5em 2.5em 0;">Hi {{vendorName}} !</p>
</div>

<div class="container-fluid reports-cont" *ngIf="!reportData">
    <div class="row">
       <div class="col-sm-12 col-md-12 m-top-1" *ngIf="reportType === 'getOrderReport' || reportType === 'getPayoutAndTaxesReport' " style="width:100%; height:14em;">
           <div class="col-sm-9 col-md-9 reprts-search-fields bg-white padding1" style="margin-right:0.5%; height:100%; width:74.5%;">
                    <div class="underLine paddingHalf text-bold">Search Parameters</div>
                    <form name="searchReport" (ngSubmit)="f.form.valid && searchReportSubmit($event)" #f="ngForm" nonvalidate>
                        <div class="searchFields m-top-1 inline">
                            <div class="searchFiled inline" *ngFor="let searchField of reportDataLoader.searchFields;">
                                <select class="form-control" name="{{searchField.name}}"  [(ngModel)]="searchResultModel[searchField.name]" *ngIf="searchField.name === 'status'">
                                    <option *ngFor="let statusName of statusList" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                                </select>
                                <input class="form-control" type="text" name="{{searchField.name}}" placeholder="{{searchField.placeholder}}" [(ngModel)]="searchResultModel[searchField.name]" *ngIf="(searchField.type === 'text' || searchField.type === 'number') && searchField.name != 'status'">
                                <my-date-picker id="{{searchField.name}}" name="{{searchField.name}}" placeholder="{{searchField.placeholder}}" [options]="myDatePickerOptions" [(ngModel)]="searchResultModel[searchField.name]"  *ngIf="searchField.type === 'date' && searchField.name != 'status'"></my-date-picker>
                            </div>
                        </div>
                        <div class="searchFieldsSubmit">
                            <input  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn"  value="Search All Parameters" />
                        </div>
                    </form>
            </div>

            <div class="col-sm-3 col-md-3 reprts-summary bg-white padding1" style="height:100%; width:24.5%;">
                <div class="underLine paddingHalf text-bold">Summary</div>
                <div class="summaryBlockCont">
                    <div class="summaryBlock inline m-top-1" *ngFor="let summ of reportDataLoader.summary; index as i;">
                        <div class="icon l" aria-hidden="true">
                            <img src="assets/images/icons/gift.svg" alt="orders" *ngIf="i === 0">
                            <img src="assets/images/icons/inr.svg" alt="inr" *ngIf="i === 1">
                            <img src="assets/images/icons/inr.svg" alt="inr" *ngIf="i === 2">
                        </div>
                        <div class="text-igp">{{summ.label}}</div>
                        <div class="text-bold">{{summ.value}}</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-12 table-cont m-top-2 table-fixed">
            <!-- {{reportDataLoader  | json}} -->
            <table class="report-table table table-striped table-bordered table-curved table-fixed">
                <thead class="bg-igp text-white" [ngStyle]="{'background-color': whitelabelStyle ? whitelabelStyle.primaryColor : '', 'color': whitelabelStyle ? whitelabelStyle.secondaryColor : '' }">
                <tr [ngStyle]="{'background-color': whitelabelStyle ? whitelabelStyle.primaryColor : '', 'color': whitelabelStyle ? whitelabelStyle.secondaryColor : '' }">
                    <th *ngFor="let tableLabel of reportDataLoader.tableHeaders">
                    {{tableLabel}} <span>&nbsp;&nbsp;</span>
                    <!--<span class="glyphicon glyphicon-chevron-down"></span>-->
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let tableRowValue of reportDataLoader.tableData">
                <td  class="bg-loader" *ngFor="let tableCol of tableRowValue; let i='index'">
                <span>&nbsp;&nbsp;</span>
                <!--<span class="glyphicon glyphicon-eye-open" *ngIf="i === 0"></span>-->
                </td>
                </tr>

                </tbody>
            </table>
            <ng-template #noRecord><mat-card>No Record</mat-card></ng-template>
        </div>
    </div>
</div>

<div class="container-fluid reports-cont" *ngIf="reportData">
    <div class="row">
        <div class="col-sm-12 col-md-12 m-top-1" *ngIf="reportType === 'getOrderReport' || reportType === 'getPayoutAndTaxesReport' || reportType === 'getOrderFileUploadReport' || reportType === 'getbarcodestoverify'|| reportType === 'whitelabel/report'" style="width:100%;">

            <div class="col-sm-9 col-md-9 reprts-search-fields bg-white padding1" style="margin-right:0.5%; height:100%;" [style.width]="(getTopBlockWidth()).left">
                <div class="underLine paddingHalf text-bold">Search Parameters</div>
                <form name="searchReport" (ngSubmit)="f.form.valid && searchReportSubmit($event)" #f="ngForm" nonvalidate>
                    <div class="searchFields m-top-1 inline" *ngIf="reportType !== 'getbarcodestoverify' && reportType !== 'whitelabel/report'">
                        <div class="searchFiled pull-left" *ngFor="let searchField of reportData.searchFields;" >
                            <select class="form-control" name="{{searchField.name}}"  [(ngModel)]="searchResultModel[searchField.name]" *ngIf="searchField.name === 'status'">
                                <option *ngFor="let statusName of statusList" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                            </select>
                            <input class="form-control" type="text" name="{{searchField.name}}" placeholder="{{searchField.placeholder}}" [(ngModel)]="searchResultModel[searchField.name]" *ngIf="(searchField.type === 'text' || searchField.type === 'number') && searchField.name != 'status'">
                            <my-date-picker id="{{searchField.name}}" name="{{searchField.name}}" placeholder="{{searchField.placeholder}}" [options]="myDatePickerOptions" [(ngModel)]="searchResultModel[searchField.name]"  *ngIf="searchField.type === 'date' && searchField.name != 'status'"></my-date-picker>
                        </div>

                        <div class="searchFiled pull-left" *ngIf="reportType === 'getOrderReport'">
                            <select multiple class="custom-select multi-select" size="4" name="status"  [(ngModel)]="searchResultModel['status']">
                              <ng-container *ngFor="let statusName of statusList">
                                <option *ngIf="statusName[environment.userType]" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                              </ng-container>
                            </select>
                        </div>

                        <div class="searchFiled pull-left" *ngIf="(environment.userType && environment.userType === 'admin')" >
                            <app-vendor-dropdown [configData]="{'modelData' :searchResultModel, 'defaultVendor' : ''}"></app-vendor-dropdown>
                        </div>
                        <div class="searchFiled pull-left" *ngIf="(environment.userType && environment.userType === 'admin') && reportType === 'getOrderReport'">
                            <select name="vendorGroupId" class="form-control" (ngModelChange)="selectVendor($event)">
                                <option [value]="undefined" disabled selected>Select a vendor group</option>
                                <option *ngFor="let x of vendorsGroupList" [value]="x.id">{{x.value}}</option>
                            </select>
                        </div>
                    </div>

                    <div class="searchFields m-top-1 inline" *ngIf="reportType == 'getbarcodestoverify'">
                            <input class="form-control" type="text"  placeholder="Search Sku" style="width: 50%">
                            <select name="isVerified" id="isVerified" style=" margin-top: 1em;width: 50%;">
                                <option value="">Filter by Verification status</option>
                                <option value="1">Verfied</option>
                                <option value="0">Non Verfied</option>
                            </select>
                    </div>
                    <div class="searchFiled pull-left" *ngIf="reportType == 'whitelabel/report'">
                        <!-- <my-date-picker id="whitelabelFromDate" name="whitelabelFromDate" placeholder="Enter start date" [options]="myDatePickerOptions" [(ngModel)]="searchResultModel['fromdate']" ></my-date-picker> -->
                        <input class="form-control" type="text" name="whitelabelemailid" placeholder="Enter Email Id" [(ngModel)]="searchResultModel['emailid']">
                    </div>
                
                    <div *ngIf="reportType !== 'getbarcodestoverify'" class="searchFieldsSubmit relative inline">
                        <input  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn"  value="Search All Parameters"/>
                    </div>
                    <div *ngIf="reportType == 'getbarcodestoverify'" class="searchFieldsSubmit relative inline" style="top:6em;">
                            <input  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn"  value="Search Parameters"/>
                    </div>
                </form>

                <div class="text-center searchValidationError theme-red text-bold" *ngIf="searchReportFieldsValidation">One of the search parameters must be filled!</div>
            </div>

            <div class="col-sm-3 col-md-3 reprts-summary bg-white padding1" *ngIf="reportType !== 'whitelabel/report'" style="height:100%;" [style.width]="(getTopBlockWidth()).right">
                <div class="underLine paddingHalf text-bold">Summary</div>
                <div class="summaryBlockCont">
                    <div class="summaryBlock inline m-top-1" *ngFor="let summ of reportData.summary; index as i;" [style.width.%]="100/reportData.summary.length">
                        <div class="icon l" aria-hidden="true">
                            <img src="assets/images/icons/gift.svg" alt="orders" *ngIf="i === 0">
                            <img src="assets/images/icons/inr.svg" alt="inr" *ngIf="i === 1">
                            <img src="assets/images/icons/inr.svg" alt="inr" *ngIf="i === 2">
                        </div>
                        <div class="text-igp summaryLabel">{{summ.label}}</div>
                        <div class="text-bold">{{summ.value | number}}</div>
                    </div>
                </div>
            </div>

        </div>

      <div class="col-sm-12 col-md-12 m-top-1" *ngIf="reportType === 'getSlaReport'" style="width:100%; height:14em;">

        <div class="col-sm-9 col-md-9 reprts-search-fields bg-white padding1" style="margin-right:0.5%; height:100%;" [style.width]="(getTopBlockWidth()).left">
          <div class="underLine paddingHalf text-bold">Search Parameters</div>
          <form name="searchReport" (ngSubmit)="f.form.valid && searchReportSubmit($event)" #f="ngForm" nonvalidate>
            <div class="searchFields m-top-1 inline">
              <div class="searchFiled pull-left" *ngFor="let searchField of reportData.searchFields;" >
                <select class="form-control" name="{{searchField.name}}"  [(ngModel)]="searchResultModel[searchField.name]" *ngIf="searchField.name === 'status'">
                  <option *ngFor="let statusName of statusList" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                </select>
                <input class="form-control" type="text" name="{{searchField.name}}" placeholder="{{searchField.placeholder}}" [(ngModel)]="searchResultModel[searchField.name]" *ngIf="(searchField.type === 'text' || searchField.type === 'number') && searchField.name != 'status'">
                <my-date-picker id="{{searchField.name}}" name="{{searchField.name}}" placeholder="{{searchField.placeholder}}" [options]="myDatePickerOptions" [(ngModel)]="searchResultModel[searchField.name]"  *ngIf="searchField.type === 'date' && searchField.name != 'status'"></my-date-picker>
              </div>

              <div class="searchFiled pull-left" *ngIf="reportType === 'getOrderReport' || reportType === 'getSlaReport' " >
                <select multiple class="custom-select multi-select" size="4" name="status"  [(ngModel)]="searchResultModel['status']">
                  <ng-container *ngFor="let statusName of statusList">
                    <option *ngIf="statusName[environment.userType]" [ngValue]="statusName.value" [attr.data-trayOpen]="statusName.type">{{statusName.name}}</option>
                  </ng-container>
                </select>
              </div>

              <div class="searchFiled pull-left" *ngIf="(environment.userType && environment.userType === 'admin')" >
                <app-vendor-dropdown [configData]="{'modelData' :searchResultModel, 'defaultVendor' : ''}"></app-vendor-dropdown>
              </div>
            </div>
            <div class="searchFieldsSubmit relative inline">
              <input  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn" [ngStyle]="{'background-color': whitelabelStyle ? whitelabelStyle.primaryColor : '', 'color': whitelabelStyle ? whitelabelStyle.secondaryColor : '' }"  value="Search All Parameters"/>
            </div>
          </form>

          <div class="text-center searchValidationError theme-red text-bold" *ngIf="searchReportFieldsValidation">One of the search parameters must be filled!</div>
        </div>

        <div class="col-sm-3 col-md-3 reprts-summary bg-white padding1" style="height:100%;" [style.width]="(getTopBlockWidth()).right">
          <div class="underLine paddingHalf text-bold">Summary</div>
          <div class="summaryBlockCont">
            <div class="summaryBlock inline m-top-1" *ngFor="let summ of reportData.summary; index as i;" [style.width.%]="100/reportData.summary.length">
              <div class="icon l" aria-hidden="true">
                <img src="assets/images/icons/gift.svg" alt="orders" *ngIf="i === 0">
                <img src="assets/images/icons/inr.svg" alt="inr" *ngIf="i === 1">
                <img src="assets/images/icons/inr.svg" alt="inr" *ngIf="i === 2">
              </div>
              <div class="text-igp summaryLabel">{{summ.label}}</div>
              <div class="text-bold">{{summ.value | number}}</div>
            </div>
          </div>
        </div>

      </div>

        <div class="col-sm-12 col-md-12 m-top-1 searchFields2" *ngIf="(reportType === 'getVendorReport' || reportType === 'getPincodeReport' || reportType === 'getVendorDetails' || reportType === 'getComponentReport' || reportType === 'getBarcodeToComponentReport' || reportType === 'getComponentOrderReport') && (environment.userType && environment.userType === 'admin') || ((reportType === 'getComponentOrderReport') && (environment.userType && environment.userType === 'vendor'))" style="width:100%;">
                
            <div class="col-sm-9 col-md-9 reprts-search-fields bg-white padding1" style="padding-right:0; width:100%;">
                    <button class="remove-filter-btn" (click)="ngOnInit()">Remove Filter</button> 
                <div *ngIf="reportType == 'getVendorReport' || reportType == 'getPincodeReport' || reportType == 'getVendorDetails'" class="underLine paddingHalf text-bold">Search Vendor</div>
                <div *ngIf="reportType === 'getComponentReport'" class="underLine paddingHalf text-bold">Search Component</div>
                <!-- <div *ngIf="reportType === 'getComponentOrderReport' || environment.userType == 'vendor'" class="underLine paddingHalf text-bold">Search Component                    
                </div> -->
                <div *ngIf="reportType === 'getBarcodeToComponentReport'" class="underLine paddingHalf text-bold">Search Barcode</div>
                <div *ngIf="reportType != 'getComponentOrderReport'" class="btn btn-primary addActionBtn" (click)="addActionInit($event)">
                    Add
                    <ng-container *ngIf="reportType === 'getVendorReport' || reportType === 'getComponentReport'">Component</ng-container>
                    <ng-container *ngIf="reportType === 'getPincodeReport'">Pincode</ng-container>
                    <ng-container *ngIf="reportType === 'getVendorDetails'">Vendor</ng-container>
                    <ng-container *ngIf="reportType === 'getBarcodeToComponentReport'">Barcode</ng-container>
                </div>
                <form name="searchReport" (ngSubmit)="f.form.valid && searchReportSubmit($event,true, myForm)" #f="ngForm" nonvalidate>
                    <div class="searchFields m-top-1 inline" >
                        <div class="pull-left" style="width:70%;">
                            <ng-container *ngIf="vendorList.length > 0 && (reportType === 'getVendorReport' || reportType === 'getPincodeReport' || reportType === 'getVendorDetails' || reportType === 'getComponentReport' || reportType === 'getBarcodeToComponentReport') && (environment.userType && environment.userType === 'admin')">
                                    <app-vendor-dropdown *ngIf="reportType !== 'getComponentReport' && reportType !== 'getBarcodeToComponentReport'" [vendorList]="vendorList" [configData]="{'modelData' :searchResultModel, 'defaultVendor' : defaultVendor}"></app-vendor-dropdown>
                            </ng-container>
                            
                            <!-- <select *ngIf="reportType == 'getComponentReport'" name="fkAssociateId" class="componentDD form-control" required>
                                <option  [ngValue]="">Select Component Code</option>
                                <option  [ngValue]="all">All Component</option>
                                <option *ngFor="let comp of listOfComponents" [ngValue]="comp">{{comp}}</option>
                            </select> -->
                            <!-- <select *ngIf="reportType == 'getComponentOrderReport'" name="fkAssociateId" class="componentDD form-control" required>
                                <option  [ngValue]="">Select Component Code</option>
                                <option  [ngValue]="all">All Component</option>
                                <option *ngFor="let comp of listOfComponents" [ngValue]="comp">{{comp}}</option>
                            </select> -->
                            <ng-container *ngIf="(environment.userType == 'admin' && reportType == 'getComponentReport') || (environment.userType == 'vendor' && reportType == 'getComponentOrderReport') && listOfComponents.length > 0">
                                    <app-auto-selection style="width: 100%;margin-right:5px" [listOfComponents]="listOfComponents" placeholder="Component Name" type='object' relationName="getComponentOrderReport" displayName='Component_Name' (selectionObject)="selectComponent($event)"></app-auto-selection>
                            </ng-container>
                            <div style="display: flex">
                            <ng-container *ngIf="environment.userType == 'admin' && reportType == 'getComponentOrderReport' && listOfComponents.length > 0">
                                    <app-auto-selection style="width: 100%;margin-right:5px" [listOfComponents]="listOfComponents" placeholder="Component Name" type='object' relationName="getComponentOrderReport" displayName='Component_Name' (selectionObject)="selectComponent($event)"></app-auto-selection>
                            </ng-container>

                            <ng-container *ngIf="reportType == 'getComponentOrderReport' && vendorList.length > 0">
                                    <app-auto-selection style="width: 100%;" [listOfComponents]="vendorList" placeholder="Vendor Name" displayName='Vendor_Name' type='object' relationName="vendorList" (selectionObject)="selectComponent($event)"></app-auto-selection>
                            </ng-container>
                            </div>
                            <select *ngIf="reportType == 'getBarcodeToComponentReport'" name="fkAssociateId" class="barcodeDD form-control" required>
                                    <option  [ngValue]="">Select Barcode</option>
                                    <option  [ngValue]="all">All Barcode</option>
                                    <option *ngFor="let barcode of listOfBarcodes" [ngValue]="comp">{{barcode}}</option>
                                </select>
                        </div>
                    </div>
                    <div class="searchFieldsSubmit relative inline" >
                        <input *ngIf="reportType == 'getVendorReport' || reportType == 'getPincodeReport' || reportType == 'getVendorDetails'"  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn"  value="Search Vendor"/>
                        <input *ngIf="reportType === 'getComponentReport'"  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn"  value="Search Component"/>
                        <input *ngIf="reportType === 'getComponentOrderReport'"  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn" style="margin-bottom: 16px;" value="Search Component"/>
                        <input *ngIf="reportType === 'getBarcodeToComponentReport'"  type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn"  value="Search Barcode"/>
                    </div>
                </form>

                <div class="text-center searchValidationError theme-red text-bold" *ngIf="searchReportFieldsValidation">One of the search parameters must be filled!</div>
            </div>
        </div>

        <div class="col-sm-12 col-md-12 m-top-1 searchFields2" *ngIf="(environment.userType && environment.userType === 'vendor') && reportType === 'getVendorReport'" style="width:100%;">
            <div class="col-sm-9 col-md-9 reprts-search-fields bg-white padding1" style="padding-right:0; width:100%;">
                    <button class="remove-filter-btn" (click)="ngOnInit()">Remove Filter</button>
                <div class="underLine paddingHalf text-bold">Search Components</div>
                <form [formGroup]="myForm" name="searchReport" (ngSubmit)="f.form.valid && searchReportSubmit($event,true,myForm)" #f="ngForm" nonvalidate>
                    <div class="searchFields m-top-1 inline" >
                        <div class="pull-left col-md-2" style="width:50%;position: relative;">
                            <ng-container *ngIf='tempListOfStockItems.length > 0'>
                                    <app-auto-selection [listOfComponents]="tempListOfStockItems" displayName='Component_Name' placeholder="Component Name" type='object' relationName="vendorGetComponentOrderReport" (selectionObject)="selectComponent($event)"></app-auto-selection>
                            </ng-container>
                        </div>
                        <div class="pull-left col-md-2" style="width:50%;position: relative;">
                            <select class="form-control" formControlName="procTypeVendor">
                                <option disabled selected value="">Select Proc Type</option>
                                  <option  *ngFor="let type of procTypeVendor; let i='index'" value="{{type}}">{{type}}</option>
                              </select>
                        </div>
                    </div>
                    <div class="searchFieldsSubmit relative inline" style="overflow: hidden;">
                            <input type="submit" class="btn btn-primary pull-right bg-igp searchSubmitBtn"  value="Search Component"/>
                        </div>
                </form>

                <div class="text-center searchValidationError theme-red text-bold" *ngIf="searchReportFieldsValidation">One of the search parameters must be filled!</div>
            </div>
        </div>

        <div class="col-sm-12 col-md-12 m-top-1 searchFields2" *ngIf="(reportType === 'getPincodeReport') && (environment.userType && (environment.userType === 'vendor')) " style="width:100%;">
          <div class="col-sm-9 col-md-9 reprts-search-fields bg-white padding1" style="padding-right:0; width:100%;">
            <div attr.data-associate-id={{associateId}} id="vendor-add-pincode" class="btn btn-primary addActionBtn add-pincode-vendor" (click)="addActionInit($event)">
              Add
              <ng-container *ngIf="reportType === 'getPincodeReport'">Pincode</ng-container>
            </div>
            <div  class="btn btn-primary addActionBtn add-pincode-vendor" (click)="downloadSamplePincode()"> Download Sample</div>
          </div>
        </div>


        <div class="col-sm-12 col-md-12 table-area table-cont m-top-1" id="table-section">
                <button *ngIf="reportType == 'getVendorReport' && (environment.userType && environment.userType === 'admin')" class="reportDwld pull-right btn btn-primary" (click)="openDownloadStockedComp()">Stocked Component Download <span class="glyphicon glyphicon-download-alt" title="Download Report"></span></button>
                <div class="reportDwld pull-right btn btn-primary" (click)="downLoadCSV($event, reportType)" [ngClass]="{'disableBtn' : !reportData.tableData.length}" *ngIf="reportType !== 'getbarcodestoverify'">
                  Download <span class="glyphicon glyphicon-download-alt" title="Download Report"></span>
                </div>
                <div  class="reportDwld pull-right btn btn-primary" (click)="bulkAssignAction()" *ngIf="(environment.userType && environment.userType === 'admin') && (reportType === 'getOrderReport')" [ngClass]="{'disableBtn' : !reportData.tableData.length}">
                  Bulk Assign <span class="glyphicon glyphicon-check" title="Bulk Assign"></span>
                </div>
                <table class="report-table table table-striped table-bordered table-curved fixed-header2">
                    <thead class="bg-igp text-white" (click)="stopEventPropgation($event)">
                        <tr>
                            <ng-container *ngFor="let tableLabel of reportData.tableHeaders; let a='index';">
                                    <th class="relative" [ngClass]="{'reportDate' : tableLabel === 'Date', 'hide' : isHiddenCell(tableLabel), 'selectedHeader' : reportLabelState[tableLabel]['filterdd']}">
                                        <span>
                                            <span class="capitalize">{{tableLabel | replace : '_'}}</span>
                                            <span class="sortIcons" *ngIf="orginalReportData.tableData.length>0">
                                                <span class="icon s" aria-hidden="true" (click)="setReportsHeadersState($event, tableLabel, 'filterdd', false)" *ngIf="reportLabelState[tableLabel]['filterdd']">
                                                    <img class="arrowU" src="assets/images/icons/arrowD.svg" alt="up-arrow">
                                                </span>
                                                <span class="icon s" aria-hidden="true" (click)="setReportsHeadersState($event, tableLabel, 'filterdd', true)" *ngIf="!reportLabelState[tableLabel]['filterdd']">
                                                    <img class="" src="assets/images/icons/arrowD.svg" alt="down-arrow">
                                                </span>
                                            </span>
                                        </span>
        
                                        <div class="clearfix"></div>
                                        <div class="removeFilter icon m" (click)="removeColumnFilter($event, tableLabel)" *ngIf="reportLabelState[tableLabel].filterValue">
                                            <img class="" src="assets/images/icons/removeFilter.png" alt="remove-filter" title="Remove Column Filter">
                                        </div>
        
                                        <div class="abs searchSortDd col-sm-12 col-md-12" [ngClass]="{'ddOpen' :reportLabelState[tableLabel]['filterdd'] ,'ddleft' : a==0, 'ddRight' : (a== reportData.tableHeaders.length-1)}" *ngIf="orginalReportData.tableData.length>0">
                                            <div class="col-sm-12 col-md-12 m-top-1 colSearchPadding">
                                                <div class="col-sm-6 col-md-6 no-padding left-align">Sort By : </div>
                                                <div class="col-sm-6 col-md-6 no-padding">
                                                    <div class="col-sm-6 col-md-6 no-padding">
                                                        A-Z
                                                    </div>
                                                    <div class="col-sm-6 col-md-6 no-padding" style="margin-left: -1.5em;">
                                                        <div class="icon s" aria-hidden="true" (click)="sortTableCol($event, tableLabel, a, 'asc')" style="transform: translate(0,-0.5em);" [ngClass]="{'hideVisibility' :!reportLabelState[tableLabel]['sortdec']}">
                                                            <img class="arrowU" src="assets/images/icons/arrowD.svg" alt="inr" title="Sort asc">
                                                        </div>
        
                                                        <div class="icon s" aria-hidden="true" (click)="sortTableCol($event, tableLabel, a, 'desc')" style="transform: translate(0,-1.2em);" [ngClass]="{'hideVisibility' : !reportLabelState[tableLabel]['sortIncr']}">
                                                            <img class="" src="assets/images/icons/arrowD.svg" alt="inr" title="Sort desc">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
        
                                            <div class="clearfix"></div>
        
                                            <form (ngSubmit)="f.form.valid && columnFilterSubmit($event, false, true, tableLabel)" #f="ngForm" attr.data-colname="{{tableLabel}}" attr.data-coldt="{{determineDataType(orginalReportData.tableData[0][tableLabel])}}" nonvalidate>
                                                <div class="col-sm-12 col-md-12 m-top-1 bg-grey colSearchPadding filter no-margin">
                                                    <div class="col-sm-6 col-md-6 no-padding left-align">Filter By :  </div>
                                                    <div class="col-sm-6 col-md-6 no-padding">
        
                                                        <select class="col-sm-12 col-md-12 no-padding customSelect" name="filterby" [(ngModel)]="reportLabelState[tableLabel]['filterBy']" *ngIf="determineDataType(orginalReportData.tableData[0][tableLabel]) == 'string'">
                                                            <option value="=">Equal</option>
                                                            <option value="contains">Containing</option>
                                                        </select>
        
                                                        <select class="col-sm-12 col-md-12 no-padding customSelect" name="filterby" [(ngModel)]="reportLabelState[tableLabel]['filterBy']" *ngIf="determineDataType(orginalReportData.tableData[0][tableLabel]) == 'date' || determineDataType(orginalReportData.tableData[0][tableLabel]) == 'number'">
                                                            <option value="="> = </option>
                                                            <option value=">="> >= </option>
                                                            <option value="<="> <= </option>
                                                        </select>
                                                    </div>
                                                </div>
        
                                               <div class="clearfix"></div>
        
                                               <div class="m-top-1">
                                                   <div class="col-sm-12 col-md-12 colSearchPadding">
                                                        <input class="col-sm-12 col-md-12 " type="text" name="filterValue" [(ngModel)]="reportLabelState[tableLabel]['filterValue']" placeholder="Enter value to search" *ngIf="ifDate(tableLabel) != 'date'" >
                                                       <my-date-picker class="col-sm-12 col-md-12" name="filterValue" placeholder="Select a date" [options]="myDatePickerOptions" [(ngModel)]="reportLabelState[tableLabel]['filterValue']"  *ngIf="ifDate(tableLabel) === 'date'"></my-date-picker>
        
                                                   </div>
                                                   <div class="col-sm-12 col-md-12 m-b-05 colSearchPadding">
                                                       <input  class="col-sm-12 col-md-12" type="submit" class="btn btn-primary pull-right bg-igp colSearchSubmitBtn"  value="Search" />
                                                   </div>
                                               </div>
                                           </form>
        
                                        </div>
        
                                    </th>
                            </ng-container>
                            
                        </tr>
                    </thead>
                    <tbody>
                        <tr  *ngIf="reportData.tableData.length == 0" style="font-size:2em;">
                            <td [colSpan]="reportData.tableHeaders.length">No Record Found</td>
                        </tr>

                        <tr class="reporTableRow" *ngFor="let tableRowValue of reportData.tableData; let dataIndex='index'" >
                            <ng-container *ngIf="dataIndex < 200">
                                    <td class="reportTableCell" style="word-break: break-word;" *ngFor="let tableCol of reportData.tableHeaders; let i='index'" [ngClass]="{'hide' : isHiddenCell(tableCol)}" [style.width]="tableCol === 'email'? 'auto' : 'auto' ">
                                            <div class="tdTxt">
                                                <span *ngIf="(environment.userType && environment.userType === 'vendor') && tableCol == 'Stock_Quantity' && getCellValue(tableRowValue['Proc_Type_Vendor']) == 'Stocked' && reportType == 'getVendorReport' && getCellValue(tableRowValue['Component_Delivery_Status']) != 'Processing'" style="display: table;margin: 0 auto;">
                                                    <div class="reportDwld pull-right btn btn-primary" (click)="openStockItemForm(tableRowValue, dataIndex)" [ngClass]="{'disableBtn' : !reportData.tableData.length}">
                                                            Order <span class="glyphicon glyphicon-plus" title="Order Component"></span>
                                                            </div>
                                                </span>
                                                
                                                <span *ngIf="tableCol == 'Component Image' || tableCol == 'Component_Image'" >
                                                    <img class="clk" style="width: 4em; box-shadow: 0 1px 3px #888888;" src="{{componentImageUrl}}thumb/{{getCellValue(tableRowValue[tableCol])}}" alt="{{getCellValue(tableRowValue[tableCol])}}" (click)="imagePreview($event, componentImageUrl +(getCellValue(tableRowValue[tableCol])))">
                                                </span>
                                                <span *ngIf="tableCol == 'Product Image' || tableCol == 'Product_Image'" >
                                                    <img class="clk" style="width: 4em; box-shadow: 0 1px 3px #888888;" src="{{productsURL}}th/{{getCellValue(tableRowValue[tableCol])}}" alt="{{getCellValue(tableRowValue[tableCol])}}" (click)="imagePreview($event, productsURL+'l/'+(getCellValue(tableRowValue[tableCol])))">
                                                </span>
            
                                                <span *ngIf="tableCol == 'Out Of Delivery' || tableCol == 'Out_Of_Delivery' " >
                                                    <img class="clk inline" style="width: 4em; box-shadow: 0 1px 3px #888888; margin-left:0.5em;" src="{{imgsrc}}" alt="{{getCellValue(tableRowValue[tableCol])}}" (click)="imagePreview($event, imgsrc)" *ngFor="let imgsrc of getCellValue(tableRowValue[tableCol])">
                                                </span>
            
                                                <span *ngIf="tableCol == 'Proof Of Delivery' || tableCol == 'Proof_Of_Delivery' " >
                                                    <img class="clk inline" style="width: 4em; box-shadow: 0 1px 3px #888888; margin-left:0.5em;" src="{{imgsrc}}" alt="{{getCellValue(tableRowValue[tableCol])}}" (click)="imagePreview($event, imgsrc)" *ngFor="let imgsrc of getCellValue(tableRowValue[tableCol])">
                                                </span>
            
                                                <span *ngIf="tableCol == 'Ship_Type'" >{{getDeliveryName(getCellValue(tableRowValue[tableCol])) | replace : '`updated'}}</span>
                                                <span style="cursor: pointer;" *ngIf="tableCol == 'isVerified'" (click)="barcodeverified($event, getCellValue(tableRowValue[tableCol]),tableRowValue)"><i class="fa" [ngClass]="{'fa-toggle-off': getCellValue(tableRowValue[tableCol]) == false , 'fa-toggle-on' : getCellValue(tableRowValue[tableCol]) == true}"></i></span>
                                                <span *ngIf="ifDate(tableCol) == 'date'" >{{getCellValue(tableRowValue[tableCol]) | date : 'dd/MM/yy'}}</span>
                                                <span style="display: flex;
                                                align-items: center;
                                                justify-content: center;" *ngIf="tableCol == 'component'">
                                                <span *ngFor="let prodComponent of getCellValue(tableRowValue['component']); let i='index'" style="margin-right: 1em;">
                                                        <div class="product-component relative">
                                                                <img class="component-image clk" style="height: 80px;width: 70px;" src="{{componentImageUrl}}{{prodComponent.componentImage}}" alt="Component_img" (click)="imagePreview($event, componentImageUrl+prodComponent.componentImage)" (error)="onSrcError($event)">
                                                                <div class="component-quantity center-align">x {{prodComponent.quantity | number | replace}}</div>
                                                          <div class="component-name center-align">{{prodComponent.componentName}} </div>
                                                        </div>
                                                </span>
                                                </span>
                                                <span *ngIf="ifDate(tableCol) != 'date' && tableCol != 'Ship_Type' && tableCol != 'Component_Image' && tableCol != 'Component Image' && tableCol != 'Product Image' && tableCol != 'Product_Image' && tableCol != 'Out Of Delivery' && tableCol != 'Out_Of_Delivery' && tableCol != 'Proof Of Delivery' && tableCol != 'Proof_Of_Delivery' && tableCol != 'Vendor_List' && tableCol !== 'component'" >
                                                    <span *ngIf="getCellValue(tableRowValue[tableCol]) === 0 && tableCol !== 'Delivery_Boy_App'">
                                                            {{getCellValue(tableRowValue[tableCol])}}
                                                    </span>
                                                    
                                                    <!-- {{getCellValue(tableRowValue[tableCol])  | replace : '`,[' }} -->
                                                    <!--<span *ngIf="(tableCol == 'Delivery_Boy' && getCellValue(tableRowValue['Status']) == 'Confirmed') && getCellValue(tableRowValue['Delivery_Boy']) == 0">
                                                        <button mat-button mat-raised-button mat-success [matMenuTriggerFor]="menu">
                                                            Assign To Agent
                                                            <span><i class="fa fa-edit"></i> {{order.orderProducts[0].deliveryBoyName}}</span> 
                                                        </button>
                            
                                                        <mat-menu #menu="matMenu">
                                                            <ng-container *ngFor="let x of deliveryBoyList" >
                                                                <button mat-menu-item *ngIf="x.Status" (click)="assignToDeliveryBoy(x, order)">
                                                                    {{x.Full_Name}}
                                                                </button>
                                                            </ng-container>      
                                                        </mat-menu>
                                                    </span>-->
                                                    <span class="testing" *ngIf="tableCol == 'sku'" style="display:inline-block;">
                                                            <img class="clk" style="width: 4em; box-shadow: 0 1px 3px #888888;" src="{{productsURL}}th/{{getCellValue(tableRowValue['barcodeImage'])}}" alt="{{getCellValue(tableRowValue['barcodeImage'])}}" (click)="imagePreview($event, productsURL+'l/'+(getCellValue(tableRowValue['barcodeImage'])))">
                                                            <br/><br/><span>{{getCellValue(tableRowValue['barcode'])}}</span>
                                                    </span>
                                                    <span class="delboy" *ngIf="tableCol == 'Delivery_Boy_App'" style="display:inline-block;">
                                                            <span *ngIf="getCellValue(tableRowValue[tableCol]) === 0">Disable</span>
                                                            <span *ngIf="getCellValue(tableRowValue[tableCol]) === 1">Enable</span>
                                                    </span>
                                                    <span *ngIf="getCellValue(tableRowValue[tableCol]) !== 0 && tableCol !== 'Delivery_Boy_App'" [innerHTML]="getCellValue(tableRowValue[tableCol], tableCol)  | replace : '`,[' "></span>
                                                </span>
                                                &nbsp; &nbsp; &nbsp;
                                                <span class="icon m" aria-hidden="true" *ngIf="tableCol === 'Order_No'" (click)="viewOrderDetail($event, getCellValue(tableRowValue[tableCol]))">
                                                    <img src="assets/images/icons/view.svg" alt="inr">
                                                </span>
                                                <span class="icon" aria-hidden="true" *ngIf="tableCol === 'invoice number'" (click)="dwldInv($event, tableRowValue['orderId'], getCellValue(tableRowValue[tableCol]))">
                                                    <span class="glyphicon glyphicon-download-alt" title="Download Invoice"></span>
                                                </span>
                                                <div *ngIf="tableCol === 'Vendor_List'">
                                                    <select (change)="addVendorToOrderMap($event, tableRowValue['Order_No'], tableRowValue['Order_Product_Id'])">
                                                      <option selected value="">Select Vendor</option>
                                                        <option  *ngFor="let vendor of tableRowValue[tableCol]; let i='index'" value="{{vendor.Vendor_Id}}">{{vendor.Vendor_Name}}</option>
                                                    </select>
                                                </div>
                                            </div>
            
                                            <!--update messgae start-->
                                                <div class="updateTxt" *ngIf="isUpdated(getCellValue(tableRowValue[tableCol])) === 'updating' || isUpdated(getCellValue(tableRowValue[tableCol])) === 'updated'">
                                                    <div class="updateTxtMain" *ngIf="isUpdated(getCellValue(tableRowValue[tableCol])) === 'updating'"><app-loader></app-loader></div>
                                                    <div class="updateTxtMain" *ngIf="isUpdated(getCellValue(tableRowValue[tableCol])) === 'updated' && (environment.userType == 'vendor')">Request sent!</div>
                                                    <div class="updateTxtMain" *ngIf="isUpdated(getCellValue(tableRowValue[tableCol])) === 'updated' && (environment.userType && environment.userType === 'admin')">Done!</div>
                                                </div>
                                            <!--update messgae end-->
            
                                            <!--<h6>{{reportData.tableDataAction | json}}</h6>-->
                                            <div *ngIf="reportData.tableDataAction && reportData.tableDataAction.length" class="tableDataAction">
                                                <ng-container *ngIf="!checkApproveBtn(tableRowValue[tableCol])">
                                                    <ng-container *ngFor="let tableAction of reportData.tableDataAction">
                                                        <div class="tableDataActionBtn" *ngIf="tableAction[tableCol] && tableAction[tableCol].length">
                                                            <!--{{tableAction[tableCol] | json}}-->
                                                            <ng-container *ngIf="reportType === 'getComponentReport' || reportType === 'getVendorDetails' || reportType === 'getBarcodeToComponentReport' || reportType === 'getComponentOrderReport' || (reportType === 'getVendorReport' && environment.userType == 'admin')">
                                                                <!-- sdsdsdssdsdsdds{{getCellValue(tableRowValue['Component_Delivery_Status']) | json}} -->
                                                                <ng-container  *ngIf="getCellValue(tableRowValue['Component_Delivery_Status']) != 'Delivered'" >
                                                                    <ng-container  *ngIf="getCellValue(tableRowValue['Component_Delivery_Status']) != 'Rejected'" >
                                                                            <div class="tableactBtn" *ngFor="let actBtn of tableAction[tableCol]; let z='index'" (click)="actionBtnInvoke(actBtn, getCellValue(tableRowValue[tableCol]), tableRowValue, tableCol, dataIndex, 1)">
                                                                                    <span class="tableactBtntxt">{{getActBtnTxt(actBtn, getCellValue(tableRowValue[tableCol]))}}</span>
                                                                                    <ng-container *ngIf="(z+1) < tableAction[tableCol].length"> &nbsp; |</ng-container>
                                                                                </div>
                                                                        </ng-container>
                                                                </ng-container>
                                                                
                                                                
                                                            </ng-container>
                                                            <ng-container *ngIf="reportType !== 'getComponentReport' && reportType !== 'getVendorDetails' && reportType !== 'getBarcodeToComponentReport' && reportType !== 'deliveryBoyDetails' && (environment.userType == 'vendor' && reportType == 'getVendorReport') && (tableRowValue[tableCol] && tableRowValue[tableCol]['requestValue'] && tableRowValue[tableCol]['requestValue'] == -1)">
                                                                <div class="tableactBtn" *ngFor="let actBtn of tableAction[tableCol]; let z='index'" (click)="actionBtnInvoke(actBtn, getCellValue(tableRowValue[tableCol]), tableRowValue, tableCol, dataIndex, 1)">
                                                                    <!-- {{tableCol | json}} -->
                                                                    <span class="tableactBtntxt"  *ngIf="tableRowValue['Proc_Type_Vendor'] == 'JIT'">{{getActBtnTxt(actBtn, getCellValue(tableRowValue[tableCol]))}}</span>
                                                                    <ng-container *ngIf="(z+1) < tableAction[tableCol].length"> &nbsp; |</ng-container>
                                                                </div>
                                                            </ng-container>
                                                            <ng-container *ngIf="reportType !== 'getComponentReport' && reportType !== 'getVendorDetails' && reportType !== 'getBarcodeToComponentReport' && reportType !== 'deliveryBoyDetails' && reportType !== 'getVendorReport'&& (tableRowValue[tableCol] && tableRowValue[tableCol]['requestValue'] && tableRowValue[tableCol]['requestValue'] == -1)">
                                                                    <div class="tableactBtn" *ngFor="let actBtn of tableAction[tableCol]; let z='index'" (click)="actionBtnInvoke(actBtn, getCellValue(tableRowValue[tableCol]), tableRowValue, tableCol, dataIndex, 1)">
                                                                        <!-- {{tableCol | json}} -->
                                                                        <span class="tableactBtntxt"  *ngIf="tableRowValue['Proc_Type_Vendor'] == 'Stocked' && tableCol !='InStock'">{{getActBtnTxt(actBtn, getCellValue(tableRowValue[tableCol]))}}</span>
                                                                        <ng-container *ngIf="(z+1) < tableAction[tableCol].length"> &nbsp; Edit</ng-container>
                                                                    </div>
                                                                </ng-container>
                                                            <ng-container *ngIf="reportType !== 'getComponentReport' && reportType !== 'getVendorDetails' && reportType !== 'getBarcodeToComponentReport' && reportType !== 'deliveryBoyDetails' && !(tableRowValue[tableCol] && tableRowValue[tableCol]['requestValue'] &&tableRowValue[tableCol]['requestValue'] == -1) && reportType !== 'getComponentReport'">
                                                                <div class="tableactBtn" (click)="actionBtnInvoke(tableRowValue[tableCol]['requestType'], getCellValue(tableRowValue[tableCol]), tableRowValue, tableCol, dataIndex, 0)">
                                                                    <span class="tableactBtntxt" *ngIf="tableRowValue[tableCol] && tableRowValue[tableCol]['requestType']">{{tableRowValue[tableCol]['requestType']}}</span>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                </ng-container>
            
                                                <ng-container *ngIf="checkApproveBtn(tableRowValue[tableCol])">
                                                        <div class="tableDataActionBtn">
                                                            <div class="tableactBtn" (click)="approveReject($event, 1, tableCol, tableRowValue)">
                                                                <span class="tableactBtntxt">Approve</span>  &nbsp; |
                                                            </div>
            
                                                            <div class="tableactBtn" (click)="approveReject($event, 0, tableCol, tableRowValue)">
                                                                <span class="tableactBtntxt">Reject</span>
                                                            </div>
                                                        </div>
                                                </ng-container>
                                            </div>
                                        </td>
                            </ng-container>
                            
                        </tr>

                    </tbody>
                </table>
        </div>

        <div class="col-sm-12 col-md-12 center-align m-b-1" *ngIf="showMoreBtn">
            <div class="btn btn-primary bg-igp searchSubmitBtn" (click)="showMoreTableData($event)">Show more</div>
        </div>

    </div>
</div>
   <!-- New Table-->
    <!-- <ng-container *ngIf="orginalReportData && orginalReportData?.tableData.length > 0">
        <app-new-reports [reportsHeader]="tableHeaders" [orginalReportData]="dataSource" [tableDataAction]="orginalReportData.tableDataAction"(viewOrder)="viewOrderDetail($event)" [SearchForm]="{'show':true, 'formFields':{'multipleSelection':true, 'dateRange':true}}" (submitForm)="newFormSubmit($event)"></app-new-reports>
    </ng-container> -->
    <!-- New Table Ends -->
    
    
<app-orders-action-tray></app-orders-action-tray>