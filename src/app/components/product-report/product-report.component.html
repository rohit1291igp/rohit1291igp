<ng-container *ngIf="userType === 'admin' else vendorView">
  <app-new-reports [reportsHeader]="tableHeaders" [orginalReportData]="dataSource"
      [tableDataAction]="orginalReportData?.tableDataAction"
      (pageChange)="onPageChange($event)"
      [SearchForm]="{'show':true, 'formFields':{'dateRange':{datefrom:{'show':false,'placeholder':'From Delivery Date','value':''}, dateto:{'show':false,'placeholder':'To Delivery Date','value':''}}, 'Selection':{'show':false,'placeholder':'Action', value:'all'}, 'vendorSelection':{'show':true,'placeholder':'Select Vendor', value:{'Vendor_Id':0,'Vendor_Name':'Select All','Status':0,'Rating':0,'Daily_Cap':0,'Delivery_Boy_App':0}}}}"
      (submitForm)="newFormSubmit($event)" (editSubmit)="onEditSubmit($event)" (fileUpload)="onAddComponent()" [dropDownList]="actionList" [vendorList]="vendorList"[dateFormat]="'dd-MM-yyyy'"></app-new-reports>
</ng-container>
<ng-template #vendorView>
  <app-new-reports [reportsHeader]="tableHeaders" [orginalReportData]="dataSource"
      [tableDataAction]="orginalReportData?.tableDataAction"
      (pageChange)="onPageChange($event)"
      [SearchForm]="{'show':true, 'formFields':{'dateRange':{datefrom:{'show':false,'placeholder':'From Delivery Date','value':''}, dateto:{'false':true,'placeholder':'To Delivery Date','value':''}}, 'Selection':{'show':false,'placeholder':'Action', value:'all'}, 'stockComponentList':{'show':true,'placeholder':'Select Component',value:'all'},'procList':{'show':true,'placeholder':'Select Proc Type',value:'Stocked'}}}"
      (submitForm)="newFormSubmit($event)" (editSubmit)="onEditSubmit($event)" [dropDownList]="actionList" [vendorList]="vendorList" [stockComponentList]="listOfStockItems" [procList]="procTypeVendor" [dateFormat]="'dd-MM-yyyy'"></app-new-reports>
</ng-template>

<div class="" *ngIf="reportAddAction.reportAddActionFlag">
  <div class="modal fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: block; overflow:scroll; background: rgba(0, 0, 0, 0.77);" (click)="closePopup($event)">
      <div class="modal-dialog modal-lg">
          <div class="modal-content" (click)="closePopup($event, 'ignore')">
              <div class="modal-header" style="border-bottom:none;">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closePopup($event)"><span aria-hidden="true">Ã—</span></button>
                  <h4 class="modal-title" id="myModalLabel">
                      Add Component
                  </h4>
              </div>

              <div class="modal-body center-align">
                  <div class="form-group">
                          <div class="" style="height:70vh;overflow: hidden;">
                                  <div class="" style="display: block; background: transparent;">
                                      <div class="modal-dialog modal-lg">
                                          <div class="modal-content" style="margin-left:25%;margin-top: 20%; width:50%;">
                                              <div class="modal-header" style="border-bottom:none;">
                                                  <div class="caption">Upload Excel File</div>
                                              </div>
                                              <div class="modal-body center-align">
                                                  <form (ngSubmit)="f.form.valid && uploadExcel($event)" #f="ngForm" nonvalidate>
                                                      <div class="m-top-1 left-align">
                                                          <input id="excelFile" class="form-control custom-control m-top-1" type="file" name="file" (change)="fileChange($event)" accept=".xls, .xlsx"
                                                              required>
                                                      </div>
                                                      <div class="m-top-1 left-align" *ngIf="isUploading">
                                                          <h3 style="text-align: center;">Uploading File...</h3>
                                                      </div>
                              
                                                      <button class="btn btn-primary m-top-1" *ngIf="!isUploading">Upload</button>
                                                      <div class="help-block theme-red" *ngIf="_flags.emptyFileValidation">Please choose a excel file.</div>
                                                      <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getComponentReport'">All Components are uploaded
                                                          successfully !</div>
                                                      <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getVendorReport'">All Components are uploaded
                                                              successfully !</div>    
                                                      <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getPincodeReport'">All Pincodes are uploaded
                                                          successfully !</div>
                                                      <div class="m-top-1 text-bold text-green" *ngIf="_flags.uploadSuccessFlag && reportType === 'getBarcodeToComponentReport'">All Barcodes are uploaded
                                                          successfully !</div>
                                                  </form>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                              
                              <div *ngIf="true" class="error-section" [ngClass]="{'show-error-section': _data.uploadErrorList.length, 'hide-error-section': !_data.uploadErrorList.length}">
                                  <!-- <div class="colInline col-sm-1 col-md-1" style="top: 1em; right: 1em; position: absolute;">
                                      <a href="#" (click)="closeErrorSection($event)" style="color:#000;">
                                          <i class="glyphicon glyphicon-remove close-tray"></i>
                                      </a>
                                  </div> -->
                              
                                  <h3 style="text-decoration:underline;">{{_data.uploadFileName}}</h3>
                                  
                                  <div>
                                      <div class="caption m-top-1">Error list:-</div>
                                      <div class="errorCont" *ngFor="let err of _data.uploadErrorList">
                                          <div>
                                              <ng-container *ngIf="err.row">Row - {{err.row}} -</ng-container> {{err.msg}}
                                          </div>
                                      </div>
                                  </div>
                              </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>